<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Docker Swarm - Anand vyas</title>
    <meta content="Docker Swarm - Anand vyas" property="og:title">
    <meta content="Docker, Docker Swarm" name="keywords">
    <meta content="Docker Swarn" property="og:description">
    <meta name="author" content="Anand Vyas">

    
    <link href="http://localhost:4000/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="http://localhost:4000/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    
    <link href="http://localhost:4000/css/highlighter.css" rel="stylesheet">
    
    <link href="http://localhost:4000/css/sb-admin.css" rel="stylesheet">
    <link href="http://localhost:4000/css/about.css" rel="stylesheet">

    <script src="http://localhost:4000/js/jquery.min.js"></script>
</head>
<body class="fixed-nav sticky-footer bg-dark sidenav-toggled" id="page-top">
  
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
    <a class="navbar-brand" href="http://localhost:4000/">
        <img src="http://localhost:4000/images/profile/logo.png" />
        <span>Anand vyas</span>
    </a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive"
        aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav navbar-sidenav">
            <li class="nav-item sidebar-profile text-center">
                <div class="profile-pic">
                    <img src="http://localhost:4000/images/profile/avatar.jpg" alt="avatar">
                </div>
                <div class="profile-detail">
                    
                    <span>Solution Architect</span> 
                    <span>Cloud Architect</span> 
                    <span>DevOps</span> 
                    <span>Tech Lead</span> 
                </div>
            </li>
            
            <li class="nav-item sidebar-menu" data-toggle="tooltip" data-placement="right" title="Home">
                <a class="nav-link" href="http://localhost:4000/">
                <i class="fa fa-fw fa fa-home"></i>
                <span class="nav-link-text">Home</span>
                </a>
            </li>
            
            <li class="nav-item sidebar-menu" data-toggle="tooltip" data-placement="right" title="About">
                <a class="nav-link" href="http://localhost:4000/about">
                <i class="fa fa-fw fa fa-user-circle"></i>
                <span class="nav-link-text">About</span>
                </a>
            </li>
            
            <li class="nav-item sidebar-menu" data-toggle="tooltip" data-placement="right" title="Categories">
                <a class="nav-link" href="http://localhost:4000/categories">
                <i class="fa fa-fw fa fa-dashboard"></i>
                <span class="nav-link-text">Categories</span>
                </a>
            </li>
            
            <li class="nav-item sidebar-menu" data-toggle="tooltip" data-placement="right" title="Tags">
                <a class="nav-link" href="http://localhost:4000/tags">
                <i class="fa fa-fw fa fa-tags"></i>
                <span class="nav-link-text">Tags</span>
                </a>
            </li>
            
        </ul>
        <ul class="navbar-nav sidenav-social">
            
            <li><a href="#" target="_blank"><i class="fa fa-mobile"></i></a></li>
            
            <li><a href="mailto:anandvyas@live.com" target="_blank"><i class="fa fa-envelope"></i></a></li>
            
            <li><a href="https://twitter.com/anandvyaas" target="_blank"><i class="fa fa-twitter"></i></a></li>
            
            <li><a href="https://www.linkedin.com/in/anandvyaas" target="_blank"><i class="fa fa-linkedin"></i></a></li>
            
            <li><a href="https://www.instagram.com/anandvyaas" target="_blank"><i class="fa fa-instagram"></i></a></li>
            
            <li><a href="https://github.com/anandvyas" target="_blank"><i class="fa fa-github"></i></a></li>
            
            <li><a href="https://stackoverflow.com/users/8208060/anand-vyas" target="_blank"><i class="fa fa-stack-overflow"></i></a></li>
            
        </ul>
        <ul class="navbar-nav sidenav-toggler">
            <li class="nav-item">
                <a class="nav-link text-center" id="sidenavToggler">
            <i class="fa fa-fw fa-angle-left"></i>
            </a>
            </li>
        </ul>
        
        
    </div>
</nav>
  
  <div class="content-wrapper">
    <div class="container-fluid">
    


<ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="http://localhost:4000/">Home</a></li>


    
    <li class="breadcrumb-item active"><a href='http://localhost:4000/docker'>docker</a></li>
    
    


    
    <li class="breadcrumb-item active"><a href='http://localhost:4000/docker/docker-swarm'>docker-swarm</a></li>
    
    


    

</ol>

        <div class="post">
            <h1>Docker Swarm</h1>
            <span class="post-date">Thu, Apr 12, 2018</span>
            

<h3 id="docker-swarm">Docker-swarm</h3>

<ul>
<li><a href="#docker-swarm-init">docker swarm init</a>: Initiate swam cluster</li>
<li><a href="#docker-swarm-join-token">docker swarm join-token</a>: Lists join security token to join another node in swarm as worker or manager</li>
<li><a href="#docker-swarm-join">docker swarm join</a>: Join already running swarm as a worker or manager</li>
<li><a href="#docker-swarm-leave">docker swarm leave</a>: Leave swarm. To be run from node itself</li>
<li><a href="#docker-swarm-unlock">docker swarm unlock</a>: Unlocks swarm by providing key after manager restarts</li>
<li><a href="#docker-swarm-unlock-key">docker swarm unlock-key</a>: Display swarm unlock key</li>
<li><a href="#docker-swarm-update">docker swarm update</a>: Updates swarm configurations</li>
</ul>

<h3 id="docker-swarm-node">Docker-swarm Node</h3>

<p>A Node is an instance of the Docker Engine connected to the Swarm. Nodes are either managers or workers. Managers schedules which containers to run where. Workers execute the tasks. By default, Managers are also workers.</p>

<ul>
<li><a href="#docker-node-ls">docker node ls</a>: Lists nodes in swarm</li>
<li><a href="#docker-node-ps">docker node ps</a>: Display tasks running on nodes</li>
<li><a href="#docker-node-promote">docker node promote</a>: Promote node to manager role</li>
<li><a href="#docker-node-demote">docker node demote</a>: Demote node from manager to worker role</li>
<li><a href="#docker-node-rm">docker node rm</a>: Remove node from swarm. Run from manager node.</li>
<li><a href="#docker-node-inspect">docker node inspect</a>: Detailed information about node</li>
<li><a href="#docker-node-update">docker node update</a>: Update node configs</li>
</ul>

<h3 id="docker-swarm-service">Docker-swarm Service</h3>

<p>A service is a high-level concept relating to a collection of tasks to be executed by workers. An example of a service is an HTTP Server running as a Docker Container on three nodes</p>

<ul>
<li><a href="#docker-service-create">docker service create</a>: Start new service in Docker swarm, Switches of docker container run command like -i (interactive), -t (pseud terminal), -d (detached), -p (publish port) etc supported here.</li>
<li><a href="#docker-service-ls">docker service ls</a>: List services</li>
<li><a href="#docker-service-ps">docker service ps</a>: Lists tasks of services</li>
<li><a href="#docker-service-logs">docker service logs</a>: Display logs of service or tasks</li>
<li><a href="#docker-service-rm">docker service rm</a>: Remove service</li>
<li><a href="#docker-service-update">docker service update</a>: Update service config</li>
<li><a href="#docker-service-rollback">docker service rollback</a>: Revert back changes done in service config.</li>
<li><a href="#docker-service-scale">docker service scale</a>: Scale one or more replicated services.</li>
<li><a href="#docker-service-inspect">docker service inspect</a>: Detailed in formation about service.</li>
</ul>

<h3 id="docker-swarm-load-balancing">Docker-swarm Load Balancing</h3>

<h3 id="a-name-docker-swarm-init-docker-swarm-init-a"><a name="docker-swarm-init">docker swarm init</a></h3>

<pre><code class="language-sh"># –advertise-addr : Advertised address on which swarm lives
docker swarm init --advertise-addr 192.168.99.121
</code></pre>

<h3 id="a-name-docker-swarm-join-token-docker-swarm-join-token-a"><a name="docker-swarm-join-token">docker swarm join-token</a></h3>

<h3 id="a-name-docker-swarm-join-docker-swarm-join-a"><a name="docker-swarm-join">docker swarm join</a></h3>

<h3 id="a-name-docker-swarm-leave-docker-swarm-leave-a"><a name="docker-swarm-leave">docker swarm leave</a></h3>

<h3 id="a-name-docker-swarm-unlock-docker-swarm-unlock-a"><a name="docker-swarm-unlock">docker swarm unlock</a></h3>

<h3 id="a-name-docker-swarm-unlock-key-docker-swarm-unlock-key-a"><a name="docker-swarm-unlock-key">docker swarm unlock-key</a></h3>

<h3 id="a-name-docker-swarm-update-docker-swarm-update-a"><a name="docker-swarm-update">docker swarm update</a></h3>

<h3 id="a-name-docker-node-ls-docker-node-ls-a"><a name="docker-node-ls">docker node ls</a></h3>

<h3 id="a-name-docker-node-ps-docker-node-ps-a"><a name="docker-node-ps">docker node ps</a></h3>

<h3 id="a-name-docker-node-promote-docker-node-promote-a"><a name="docker-node-promote">docker node promote</a></h3>

<h3 id="a-name-docker-node-demote-docker-node-demote-a"><a name="docker-node-demote">docker node demote</a></h3>

<h3 id="a-name-docker-node-rm-docker-node-rm-a"><a name="docker-node-rm">docker node rm</a></h3>

<h3 id="a-name-docker-node-inspect-docker-node-inspect-a"><a name="docker-node-inspect">docker node inspect</a></h3>

<h3 id="a-name-docker-node-update-docker-node-update-a"><a name="docker-node-update">docker node update</a></h3>

<h3 id="a-name-docker-service-create-docker-service-create-a"><a name="docker-service-create">docker service create</a></h3>

<h3 id="a-name-docker-service-ls-docker-service-ls-a"><a name="docker-service-ls">docker service ls</a></h3>

<h3 id="a-name-docker-service-ps-docker-service-ps-a"><a name="docker-service-ps">docker service ps</a></h3>

<h3 id="a-name-docker-service-logs-docker-service-logs-a"><a name="docker-service-logs">docker service logs</a></h3>

<h3 id="a-name-docker-service-rm-docker-service-rm-a"><a name="docker-service-rm">docker service rm</a></h3>

<h3 id="a-name-docker-service-update-docker-service-update-a"><a name="docker-service-update">docker service update</a></h3>

<h3 id="a-name-docker-service-rollback-docker-service-rollback-a"><a name="docker-service-rollback">docker service rollback</a></h3>

<h3 id="a-name-docker-service-scale-docker-service-scale-a"><a name="docker-service-scale">docker service scale</a></h3>

<h3 id="a-name-docker-service-inspect-docker-service-inspect-a"><a name="docker-service-inspect">docker service inspect</a></h3>

        </div>
        
    </div>
    
    
    <footer class="sticky-footer">
    <div class="container">
        <div class="text-center">
            <small>Copyright © Anand Vyas 2019</small>
        </div>
    </div>
</footer>

<a class="scroll-to-top rounded" href="#page-top">
    <i class="fa fa-angle-up"></i>
</a>


<script src="http://localhost:4000/js/popper.min.js"></script>
<script src="http://localhost:4000/js/bootstrap.min.js"></script>
<script src="http://localhost:4000/js/highlight.min.js"></script>
<script src="http://localhost:4000/js/moment.min.js"></script>
<script src="http://localhost:4000/js/clipboard.min.js"></script>

<script src="http://localhost:4000/js/jquery.easing.min.js"></script>

<script src="http://localhost:4000/js/sb-admin.js"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108803266-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-108803266-1');
</script>
  </div>
<script data-no-instant>document.write('<script src="/livereload.js?port=4000&mindelay=10"></' + 'script>')</script></body>
</html>
